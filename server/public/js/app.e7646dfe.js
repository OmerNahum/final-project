(function(e){function t(t){for(var r,o,i=t[0],c=t[1],l=t[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},s=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1:function(e,t){},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=s,e.exports=n,n.id="4678"},"56d7":function(e,t,a){"use strict";a.r(t),a.d(t,"store",(function(){return bt}));a("99af"),a("96cf");var r=a("1da1"),n=a("2909"),s=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],staticClass:"grey lighten-4"},[a("Navbar"),a("v-main",[a("router-view")],1)],1)},i=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{directives:[{name:"resize",rawName:"v-resize",value:e.check,expression:"check"}]},[this.navbar?a("v-toolbar",[a("v-app-bar-nav-icon",{staticClass:"grey--text",on:{click:function(t){e.drawer=!e.drawer}}}),a("a",{on:{click:e.pushToShow}},[a("v-toolbar-title",{staticClass:"text-uppercase green--text"},[a("span",{staticClass:"font-weight-bold"},[e._v("Down's For")])])],1),a("v-spacer"),a("v-btn",{staticClass:"red white--text",attrs:{loading:e.logoutLoad,small:""},on:{click:e.logout}},[e._v("Logout")])],1):e._e(),a("v-navigation-drawer",{staticClass:"d-lg-flex",attrs:{app:"",color:"indigo"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",[a("v-btn",{attrs:{small:"",color:"info darken-1"},on:{click:function(t){e.drawer=!1}}},[a("v-icon",[e._v(" mdi-menu-open ")])],1),e._l(e.links,(function(t){return a("v-list-item",{key:t.text,attrs:{to:t.route},on:{click:function(t){e.drawer=!1}}},[a("v-list-item-action",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.text))])],1)],1)}))],2)],1)],1)},l=[],u=a("5530"),d=a("2f62"),m={created:function(){this.logoutLoad=!1},props:[],computed:Object(u["a"])({},Object(d["c"])(["navbar"])),data:function(){return{drawer:!1,users:[],links:[{icon:"mdi-account",text:"Profile",route:"/Profile"},{icon:"mdi-account-group",text:"Grpups",route:"/Show"},{icon:"mdi-account-plus",text:"Create Group",route:"/Contacts"},{icon:"mdi-bookmark",text:"Interests",route:"/Interests"},{icon:"mdi-contacts",text:"Contacts",route:"/Contacts"}],logoutLoad:!1}},methods:Object(u["a"])(Object(u["a"])({check:function(){"/"!=this.$route.fullPath&&"/Register"!=this.$route.fullPath||(this.drawer=!1)},logout:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.logoutLoad=!0,t.next=3,e.userLogout();case 3:e.userLogout=!1,window.location.reload();case 5:case"end":return t.stop()}}),t)})))()}},Object(d["b"])(["userLogout"])),{},{pushToShow:function(){"/Show"!=this.$route.path&&this.$router.push("/Show")}})},p=m,g=a("2877"),f=a("6544"),h=a.n(f),v=a("5bc1"),b=a("8336"),w=a("132d"),x=a("8860"),k=a("da13"),j=a("1800"),C=a("5d23"),_=a("f774"),R=a("2fa4"),y=a("71d9"),L=a("2a7f"),V=a("269a"),O=a.n(V),P=a("dc22"),S=Object(g["a"])(p,c,l,!1,null,null,null),G=S.exports;h()(S,{VAppBarNavIcon:v["a"],VBtn:b["a"],VIcon:w["a"],VList:x["a"],VListItem:k["a"],VListItemAction:j["a"],VListItemContent:C["a"],VListItemTitle:C["b"],VNavigationDrawer:_["a"],VSpacer:R["a"],VToolbar:y["a"],VToolbarTitle:L["a"]}),O()(S,{Resize:P["a"]});var I={name:"App",components:{Navbar:G},data:function(){return{}},methods:{onResize:function(){}}},U=I,D=a("7496"),N=a("f6c4"),A=Object(g["a"])(U,o,i,!1,null,null,null),z=A.exports;h()(A,{VApp:D["a"],VMain:N["a"]}),O()(A,{Resize:P["a"]});var T=a("8c4f"),H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticClass:"add mx"},[a("v-card",{staticClass:"mx-auto mt-5",attrs:{width:"400"}},[a("v-card-title",[a("h1",{staticClass:"display font-weight-light info--text"},[e._v("New Group")])]),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Group Name *"},model:{value:e.GroupName,callback:function(t){e.GroupName=t},expression:"GroupName"}}),a("v-text-field",{attrs:{readonly:"",label:"Participants"},model:{value:this.participants,callback:function(t){e.$set(this,"participants",t)},expression:"this.participants"}}),a("v-file-input",{attrs:{rules:e.groupImage,accept:"image/png, image/jpeg, image/bmp",placeholder:"Pick group picture","prepend-icon":"mdi-folder",label:"Avatar"},on:{change:e.onChange},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}}),a("DatePicker",{on:{clicked:e.onChangeChild}}),e.valid?e._e():a("v-card-text",{staticClass:"error--text"},[e._v("Group name must be given")])],1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"success",loading:e.createLoad},on:{click:e.addGroup}},[e._v("Create")])],1)],1)],1)},E=[],M=(a("d81d"),a("b0c0"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{label:"Set new closing date","persistent-hint":"","prepend-icon":"mdi-calendar"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.dateFormatted,callback:function(t){e.dateFormatted=t},expression:"dateFormatted"}},r))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[a("v-date-picker",{attrs:{"no-title":""},on:{change:e.onChange,input:function(t){e.menu1=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)],1)],1)}),F=[],$=(a("4d90"),a("1276"),a("3835")),W={data:function(e){return{date:(new Date).toISOString().substr(0,10),dateFormatted:e.formatDate((new Date).toISOString().substr(0,10)),menu1:!1,menu2:!1}},computed:{computedDateFormatted:function(){return this.formatDate(this.date)}},watch:{date:function(){this.dateFormatted=this.formatDate(this.date)}},methods:{formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object($["a"])(t,3),r=a[0],n=a[1],s=a[2];return"".concat(n,"/").concat(s,"/").concat(r)},parseDate:function(e){if(!e)return null;var t=e.split("/"),a=Object($["a"])(t,3),r=a[0],n=a[1],s=a[2];return"".concat(s,"-").concat(r.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},onChange:function(e){this.$emit("clicked",e)}}},B=W,q=a("62ad"),J=a("a523"),Q=a("2e4b"),Y=a("e449"),K=a("0fd9"),X=a("8654"),Z=Object(g["a"])(B,M,F,!1,null,null,null),ee=Z.exports;h()(Z,{VCol:q["a"],VContainer:J["a"],VDatePicker:Q["a"],VMenu:Y["a"],VRow:K["a"],VTextField:X["a"]});var te=a("c1df"),ae=a.n(te),re=a("8055"),ne=a.n(re),se={name:"Add",created:function(){this.socket=ne()("http://localhost:3000"),this.setParticipants(),this.createLoad=!1},components:{DatePicker:ee},computed:Object(u["a"])({},Object(d["c"])(["Participants","Valid"])),data:function(){return{date:"",groupImage:[function(e){return!e||e.size<2e6||"Avatar size should be less than 2 MB!"}],image:null,imageUrl:null,GroupName:"",lastName:"",participants:[],openTime:Date,closingTime:null,valid:!0,valid2:!1,valid3:!1,valid4:!1,headers:[{text:"participants",value:"email"}],file:null,createLoad:!1}},methods:Object(u["a"])(Object(u["a"])({addGroup:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.createLoad=!0,""==e.GroupName){t.next=25;break}if(a=e.Participants,n={name:e.GroupName,image:e.imageUrl?e.imageUrl:"https://cdn4.iconfinder.com/data/icons/avatar-1-2/100/Avatar-16-512.png",participants:a||[],closingTime:null!=e.closingTime&&e.closingTime>ae()()?e.closingTime:ae()().add(1,"days").format("LLLL")},e.updateContacts(null),t.prev=5,!e.file){t.next=13;break}s=new FileReader,s.readAsDataURL(e.file),s.onloadend=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.uploadImage2(s.result);case 2:return n.image=t.sent,console.log(n.image),t.next=6,e.createGroup(n);case 6:e.socket.emit("onGroupDelete"),e.$router.push("Show");case 8:case"end":return t.stop()}}),t)}))),s.onerror=function(){console.error("AHHHHHHHH!!")},t.next=17;break;case 13:return t.next=15,e.createGroup(n);case 15:e.socket.emit("onGroupDelete"),e.$router.push("Show");case 17:t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](5),console.log(t.t0),e.createLoad=!1;case 23:t.next=27;break;case 25:e.valid=!1,e.createLoad=!1;case 27:case"end":return t.stop()}}),t,null,[[5,19]])})))()},restart:function(){this.GroupName="",this.participants="",this.valid4=!0},goto:function(){location.replace("/contacts")},m:function(){console.log(this.date)}},Object(d["b"])(["createGroup","updateContacts","uploadImage2"])),{},{onChangeChild:function(e){this.closingTime=ae()(e).add(14,"hours").format("LLLL")},setParticipants:function(){var e=this.Participants.map((function(e){return" "+e.email}));this.participants=e.toString()},onChange:function(e){this.imageUrl=e.name,this.file=e}})},oe=se,ie=a("b0af"),ce=a("99d9"),le=a("23a7"),ue=a("4bd4"),de=Object(g["a"])(oe,H,E,!1,null,null,null),me=de.exports;h()(de,{VApp:D["a"],VBtn:b["a"],VCard:ie["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VFileInput:le["a"],VForm:ue["a"],VTextField:X["a"]});var pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"show"},[a("h1",{staticClass:"grey--text font-weight-light"},[e._v("Groups")]),a("v-card",{staticClass:"weight-light",attrs:{width:"400"}},[a("v-text-field",{staticClass:"serach",attrs:{"single-line":"","hide-details":"",label:"Search by group name","append-icon":"mdi-magnify"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-btn",{attrs:{"x-small":"",color:"info"},on:{click:e.searchGroup}},[e._v("search")])],1),a("span",{staticClass:"mt-5"},[a("v-btn",{attrs:{"x-small":"",depressed:"",append:"",color:"purple"},on:{click:e.load}},[e._v("Load-all-Groups ")])],1),e.isEmpty&&0==e.groups.length?a("v-card-title",{staticClass:"justify-center font-size-6em"},[e._v("There are no active groups")]):e._e(),null!=e.groups&&0!=e.groups.length?a("v-data-table",{staticClass:"elevation-1",attrs:{items:e.searchedGroups,headers:e.headers,loading:e.isLoading},scopedSlots:e._u([{key:"item.GroupName",fn:function(t){var r=t.item;return[a("a",{attrs:{href:r.image,target:"_blank"}},[a("v-avatar",{attrs:{size:"30"}},[a("img",{attrs:{src:r.image}})])],1),a("a",{attrs:{color:"blue"},on:{click:function(t){return e.tranGroup(r._id)}}},[e._v(" "+e._s(r.name)+" ")]),r.viewed.find((function(t){return t._id.toString()===e.user._id.toString()})).isViewed?e._e():a("span",{attrs:{title:"New messages"}},[e._v("ðŸ”´")])]}},{key:"item.Actions",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{icon:"",color:"blue"},on:{click:function(t){return e.tranGroup(r._id)}}},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v(" mdi-message ")])],1),a("v-btn",{attrs:{icon:"",color:"red",loading:e.deleteLoader},on:{click:function(t){return e.deleteGroup(r._id)}}},[a("v-icon",{attrs:{small:"",title:"delete and leave group"}},[e._v(" mdi-delete ")])],1),a("v-btn",{attrs:{icon:"",color:"red",loading:e.foreverLoader},on:{click:function(t){return e.checkAdmin(r._id)}}},[r.admin.toString()===e.user._id.toString()?a("v-icon",{attrs:{title:"Delete group for all participants",small:""}},[e._v(" mdi-delete-forever ")]):e._e()],1)]}}],null,!1,2948511383)}):e._e()],1)},ge=[],fe=(a("4de4"),a("2ca0"),{created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.socket=ne()("http://localhost:3000"),e.socket.on("change",(function(t){return e.setGroups(t)})),e.socket.on("groupDeleted",(function(){return e.setGroups(null)})),t.next=5,e.getAllGroups();case 5:e.deleteLoader=!1,e.foreverLoader=!1,e.load();case 8:case"end":return t.stop()}}),t)})))()},name:"Show",components:{},mounted:function(){var e=this;setTimeout((function(){e.setLastSeen()}),500)},computed:Object(u["a"])({},Object(d["c"])(["User","Groups"])),data:function(){return{user:null,users:[],searchedGroups:[],headers:[{text:"GroupName",value:"GroupName"},{text:"Actions",value:"Actions"}],name:"",groups:[],isLoading:!1,isEmpty:!1,deleteLoader:!1,foreverLoader:!1,socket:null}},methods:Object(u["a"])({load:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.Groups;case 3:e.groups=t.sent;while(!e.groups);return e.isLoading=!1,0==e.groups.length&&(e.isEmpty=!0),t.next=9,e.Groups;case 9:e.searchedGroups=t.sent,e.user=e.User,e.deleteLoader=!1,e.foreverLoader=!1;case 13:case"end":return t.stop()}}),t)})))()},setGroups:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e)for(r=0;r<t.groups.length;r++)e.group._id.toString()===t.groups[r]._id.toString()&&(t.groups[r]=e.group);return a.next=3,t.getAllGroups();case 3:return a.next=5,t.Groups;case 5:return n=a.sent,e&&(n=n.filter((function(t){return t._id.toString()!==e.group._id.toString()})),n.unshift(e.group)),a.next=9,t.setGroupsPosition(n);case 9:t.load();case 10:case"end":return a.stop()}}),a)})))()},searchGroup:function(){var e=this;this.searchedGroups=[],this.searchedGroups=this.groups.filter((function(t){return t.name.startsWith(e.name)}))},deleteGroup:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.deleteLoader=!0,a.next=3,t.leaveGroup(e);case 3:return a.next=5,t.getAllGroups();case 5:t.load();case 6:case"end":return a.stop()}}),a)})))()},checkAdmin:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.foreverLoader=!0,r=t.groups.filter((function(t){return t._id.toString()==e.toString()})),n=r.filter((function(e){return e.admin==t.user._id})),!(n.length>0)){a.next=10;break}return a.next=6,t.adminDeleteGroup(r.pop()._id);case 6:t.socket.emit("onGroupDelete"),t.load(),a.next=11;break;case 10:alert("only admin can delete group");case 11:case"end":return a.stop()}}),a)})))()},tranGroup:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.getGroup(e);case 2:t.$router.push("/chat");case 3:case"end":return a.stop()}}),a)})))()}},Object(d["b"])(["currentUser","getSearchedGroups","getAllGroups","leaveGroup","adminDeleteGroup","getGroup","setLastSeen","setGroupsPosition","createRandomUsers"])),beforeDestroy:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:setTimeout((function(){e.setLastSeen()}),500),e.socket.close();case 2:case"end":return t.stop()}}),t)})))()}}),he=fe,ve=a("8212"),be=a("8fea"),we=Object(g["a"])(he,pe,ge,!1,null,null,null),xe=we.exports;h()(we,{VAvatar:ve["a"],VBtn:b["a"],VCard:ie["a"],VCardTitle:ce["c"],VDataTable:be["a"],VIcon:w["a"],VTextField:X["a"]});var ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticClass:"login"},[a("v-layout",{staticClass:"blue lighten-4",attrs:{"align-center":"","justify-center":""}},[a("v-card",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],staticClass:"mx-auto mt-5",attrs:{width:e.cardWidth,"fill-height":""}},[a("v-container",[a("v-card-title",[a("h1",{staticClass:"display font-weight-light info--text"},[e._v("Login")])]),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Email",rules:e.emailRules,placeholder:"email@email.com"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{type:e.showPassword?"text":"password",label:"Password","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(e.password)},"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e.valid?e._e():a("v-card-text",{staticClass:"error--text"},[e._v("Password or Username incorrect")]),e.valid3?a("v-card-text",{staticClass:"error--text"},[e._v("Wrong password ")]):e._e()],1)],1),a("v-card-actions",[a("v-row",{attrs:{dense:""}},[a("v-btn",{attrs:{"x-small":e.xs,small:e.s,medium:e.md,large:e.lg,"x-large":e.xl,color:"info"},on:{click:function(t){return e.login(e.password)}}},[e._v("Login")]),a("v-btn",{staticClass:"ml-1",attrs:{"x-small":e.xs,small:e.s,medium:e.md,large:e.lg,"x-large":e.xl,color:"success","router-link":"",to:"/Register"}},[e._v("Register")]),a("v-spacer"),a("a",{attrs:{href:"http://localhost:3000/user/google"}},[a("v-icon",{attrs:{small:e.xs,medium:e.s,large:e.md,"x-large":e.lg}},[e._v(" mdi-google ")])],1)],1)],1)],1)],1)],1)],1)},je=[],Ce={name:"Login",components:{},computed:Object(u["a"])({},Object(d["c"])(["User"])),data:function(){return{emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],showPassword:!1,email:"",password:"",valid:!0,valid2:!1,valid3:!1,valid4:!1,types:[],cardWidth:.33*window.outerWidth,xs:!1,s:!0,md:!1,lg:!1,xl:!1}},methods:Object(u["a"])({login:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.valid2=!1,e.valid=!0,a={email:e.email,password:e.password},t.next=5,e.setUser(a);case 5:e.user=e.User,e.user?e.$router.push("Show"):e.valid=!1;case 7:case"end":return t.stop()}}),t)})))()},googleLogin:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.currentUser();case 2:e.user=e.User,e.user?e.$router.push("Show"):e.valid=!1;case 4:case"end":return t.stop()}}),t)})))()},onResize:function(){var e=this;setTimeout((function(){switch(e.cardWidth=.33*window.outerWidth,e.xs=!1,e.s=!1,e.md=!1,e.lg=!1,e.xl=!1,e.$vuetify.breakpoint.name){case"xs":return e.cardWidth=window.outerWidth,e.s=!0;case"sm":return e.s=!0;case"md":return e.s=!0;case"lg":return e.s=!0;case"xl":return e.md=!0;default:return e.md=!0}}),500)}},Object(d["b"])(["setUser","setUserBygoogle","currentUser"]))},_e=Ce,Re=a("a722"),ye=Object(g["a"])(_e,ke,je,!1,null,null,null),Le=ye.exports;h()(ye,{VApp:D["a"],VBtn:b["a"],VCard:ie["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:J["a"],VForm:ue["a"],VIcon:w["a"],VLayout:Re["a"],VRow:K["a"],VSpacer:R["a"],VTextField:X["a"]}),O()(ye,{Resize:P["a"]});var Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticClass:"Register"},[a("v-layout",{staticClass:"blue lighten-4",attrs:{"align-center":"","justify-center":""}},[a("v-card",{directives:[{name:"resize",rawName:"v-resize",value:e.btnSize,expression:"btnSize"}],staticClass:"mx-auto mt-5",attrs:{width:e.cardWidth,"fill-height":""}},[a("v-container",[a("v-card-title",[a("h1",{staticClass:"display font-weight-light info--text"},[e._v("Register")])]),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"First Name *",required:""},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),a("v-text-field",{attrs:{label:"Last Name"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),a("v-text-field",{attrs:{label:"Email *",rules:e.emailRules,placeholder:"email@email.com",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-file-input",{attrs:{rules:e.groupImage,accept:"image/png, image/jpeg, image/bmp",placeholder:"Pick group picture","prepend-icon":"mdi-folder",label:"Avatar"},on:{change:e.onChange},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}}),a("v-text-field",{attrs:{required:"",type:e.showPassword?"text":"password",label:"Password *","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{attrs:{required:"",type:e.showPassword?"text":"password",label:"Confirm Password *","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.setRegDialog(!1)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{"x-small":e.xs,small:e.s,":medium":e.md,large:e.lg,"x-large":e.xl,color:"info",dark:""},on:{click:e.setDialog}},r),[e._v("Add Interests")])]}}]),model:{value:e.RegDialog,callback:function(t){e.RegDialog=t},expression:"RegDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Interests")])]),a("v-card-text",[a("v-container",[a("Interests")],1)],1),a("v-card-actions",[a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.setRegDialog(!1)}}},[e._v("Close")])],1)],1)],1)],1)],1),e.password!=e.confirmPassword?a("v-card-text",{staticClass:"red--text"},[e._v("Password don't match")]):e._e(),e.valid?e._e():a("v-card-text",{staticClass:"error--text"},[e._v("You must fill all * fields")]),e.valid2?a("v-card-text",{staticClass:"error--text"},[e._v("Email already exist")]):e._e(),e.valid3?a("v-card-text",{staticClass:"error--text"},[e._v("Password must have 4 or more characters ")]):e._e()],1)],1),a("v-card-actions",[a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-btn",{attrs:{"x-small":e.xs,small:e.s,medium:e.md,large:e.lg,"x-large":e.xl,color:"success",loading:e.registerBtnLoad},on:{click:function(t){return e.passwordCheck(e.password)}}},[e._v("Register")]),a("v-spacer"),a("v-btn",{attrs:{"x-small":e.xs,small:e.s,medium:e.md,large:e.lg,"x-large":e.xl,color:"red white--text",to:"/"}},[e._v(" Cancel")])],1)],1)],1)],1)],1)],1)],1)},Oe=[],Pe=(a("cb29"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Interests"},[a("v-data-table",{staticClass:"elevation-1",attrs:{items:e.interests,headers:e.headers,"show-select":"","item-key":"value"},scopedSlots:e._u([{key:"item.Interests",fn:function(t){var r=t.item;return[a("v-icon",[e._v(" "+e._s(r.icon)+" ")]),e._v(" "+e._s(r.name)+" ")]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-btn",{attrs:{loading:e.doneLoad,large:"",color:"success"},on:{click:e.selectedHandler}},[e._v("Done")])],1)}),Se=[],Ge={data:function(){return{selected:[],interests:[{name:"sport",icon:"mdi-basketball",value:1},{name:"study",icon:"mdi-book-open-page-variant",value:2},{name:"clubs",icon:"mdi-glass-cocktail",value:3},{name:"nature",icon:"mdi-airballoon",value:4},{name:"pubs",icon:"mdi-glass-mug",value:5},{name:"gaming",icon:"mdi-controller-classic-outline",value:6},{name:"food",icon:"mdi-food-fork-drink",value:7},{name:"movies",icon:"mdi-movie-roll",value:8},{name:"shopping",icon:"mdi-shopping",value:9},{name:"music",icon:"mdi-music",value:10}],headers:[{text:"Interests",value:"Interests"}],vec:[],doneLoad:!1}},computed:Object(u["a"])({},Object(d["c"])(["User","RegDialog"])),methods:Object(u["a"])({selectedHandler:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.doneLoad=!0,e.vec=[],a=0,e.selected.length>0)for(r=1;r<=e.interests.length;r++)null!=e.selected[a]&&e.selected[a].value==r?(e.vec.push(1),a++):e.vec.push(0);else e.vec.length=e.interests.length,e.vec.fill(0);return t.next=6,e.currentUser();case 6:e.User?(e.setInterests({vector:e.vec,user:e.User}),e.doneLoad=!1,e.$router.push("/Show")):(e.doneLoad=!1,e.setInterests({vector:e.vec,user:null}),e.setRegDialog(!1));case 7:case"end":return t.stop()}}),t)})))()}},Object(d["b"])(["setInterests","currentUser","setRegDialog"]))},Ie=Ge,Ue=Object(g["a"])(Ie,Pe,Se,!1,null,null,null),De=Ue.exports;h()(Ue,{VBtn:b["a"],VDataTable:be["a"],VIcon:w["a"]});var Ne=a("bc3a"),Ae={name:"Add",components:{Interests:De},created:function(){},computed:Object(u["a"])({},Object(d["c"])(["Interests","RegDialog"])),mounted:function(){},data:function(){return{groupImage:[function(e){return!e||e.size<2e6||"Avatar size should be less than 2 MB!"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],showPassword:!1,firstName:"",lastName:"",email:"",password:"",confirmPassword:"",image:null,valid:!0,valid2:!1,valid3:!1,valid4:!1,imageUrl:null,dialog:!1,file:null,cardWidth:.33*window.outerWidth,xs:!1,s:!1,md:!1,lg:!1,xl:!1,registerBtnLoad:!1}},methods:Object(u["a"])(Object(u["a"])({addUser:function(){var e=this;if(this.valid2=!1,""!=this.firstName&&""!=this.email&&""!=this.password&&this.password==this.confirmPassword){var t={firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password,image:this.imageUrl?this.imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQqxFDpAr9FpHYSNvxKAGp65w5QQ6nKkBPFUuzJGGuduwtL3F86&usqp=CAU",interests:this.Interests?this.Interests:new Array(De.data().interests.length).fill(0)};try{if(this.file){var a=new FileReader;a.readAsDataURL(this.file),a.onloadend=Object(r["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.uploadImage2(a.result);case 2:t.image=r.sent,n="/user/addUser",Ne.post(n,t).then((function(){setTimeout((function(){}),200),e.$router.push("/"),e.registerBtnLoad=!1})).catch((function(t){console.log(t),e.registerBtnLoad=!1}));case 5:case"end":return r.stop()}}),r)}))),a.onerror=function(){console.error("AHHHHHHHH!!")}}else{var n="/user/addUser";Ne.post(n,t).then((function(){setTimeout((function(){}),200),e.$router.push("/"),e.registerBtnLoad=!1})).catch((function(t){console.log(t),e.valid2=!0}))}}catch(s){console.log(s),this.registerBtnLoad=!1}}else this.valid=!1,this.registerBtnLoad=!1},btnSize:function(){var e=this;setTimeout((function(){switch(e.cardWidth=.3*window.outerWidth,e.xs=!1,e.s=!1,e.md=!1,e.lg=!1,e.xl=!1,e.$vuetify.breakpoint.name){case"xs":return e.cardWidth=window.outerWidth,e.s=!0;case"sm":return e.s=!0;case"md":return e.md=!0;case"lg":return e.md=!0;case"xl":return e.lg=!0;default:return e.md=!0}}),500)},passwordCheck:function(){this.valid3=!1,this.valid=!0,this.registerBtnLoad=!0,this.password.length>=4?this.addUser():(this.registerBtnLoad=!1,this.valid3=!0)},setDialog:function(){this.setRegDialog(!0)}},Object(d["b"])(["setRegDialog","uploadImage2"])),{},{restart:function(){this.password="",this.firstName="",this.lastName="",this.userName="",this.confirmPassword=""},onChange:function(e){this.imageUrl=e.name,this.file=e}})},ze=Ae,Te=a("169a"),He=Object(g["a"])(ze,Ve,Oe,!1,null,null,null),Ee=He.exports;h()(He,{VApp:D["a"],VBtn:b["a"],VCard:ie["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:J["a"],VDialog:Te["a"],VFileInput:le["a"],VForm:ue["a"],VLayout:Re["a"],VRow:K["a"],VSpacer:R["a"],VTextField:X["a"]}),O()(He,{Resize:P["a"]});var Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"resize",rawName:"v-resize",value:e.btnSize,expression:"btnSize"}],staticClass:"Contacts"},[a("h1",{staticClass:"grey--text font-weight-light"},[e._v("Contacts")]),a("v-card",{staticClass:"weight-light",attrs:{width:"400"}},[a("v-text-field",{staticClass:"serach",attrs:{"single-line":"","hide-details":"",label:"Search by username","append-icon":"mdi-magnify"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-btn",{attrs:{"x-small":"",color:"info"},on:{click:function(t){return e.searchUsers(e.name)}}},[e._v("search")])],1),a("div",{staticClass:" d-flex justify-space-between"},[a("v-btn",{staticClass:"mt-1",attrs:{small:"",depressed:"",append:"",color:"success"},on:{click:e.load}},[e._v("Load-all-Users ")]),a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){return[a("v-btn",{class:e.addContactMg,attrs:{"x-small":e.xs,small:e.s,medium:e.s,large:e.lg,"x-large":e.xl,color:"info",dark:""},on:{click:e.restartValid}},[e._v("Add contact")])]}}]),model:{value:e.dialog1,callback:function(t){e.dialog1=t},expression:"dialog1"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Contact")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"contact email",required:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSave(t)}},model:{value:e.contactEmail,callback:function(t){e.contactEmail=t},expression:"contactEmail"}})],1)],1)],1)],1),0==e.valid?a("v-card-text",{staticClass:"red--text"},[e._v("User does not exist ")]):e._e(),1==e.existValid?a("v-card-text",{staticClass:"red--text"},[e._v("Contact already exist ")]):e._e(),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog1=!1}}},[e._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",Add:"",loading:e.addContactLoad},on:{click:e.onSave}},[e._v("Save")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){return[a("v-btn",{attrs:{loading:e.isLoading,"x-small":e.xs,small:e.s,medium:e.s,large:e.lg,"x-large":e.xl,color:"purple",dark:""},on:{click:function(t){return e.setChooser(2)}}},[e._v("Recommended Groups")]),a("v-btn",{class:e.recommendedConMg,attrs:{loading:e.isLoading1,"x-small":e.xs,small:e.s,medium:e.s,large:e.lg,"x-large":e.xl,color:"brown",dark:""},on:{click:function(t){return e.setChooser(1)}}},[e._v("Recommended contact")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{items:e.recommended,headers:e.headers,"show-select":"","item-key":"email"},scopedSlots:e._u([{key:"item.contact",fn:function(t){var r=t.item;return[a("v-avatar",{attrs:{size:"30"}},[a("img",{attrs:{src:r.image}})]),e._v(" "+e._s(r.firstName)+" ")]}},{key:"item.second",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.email)+" ")]}}]),model:{value:e.recSelection,callback:function(t){e.recSelection=t},expression:"recSelection"}}),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.onSaveRec}},[e._v("Save")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{items:e.searchedUsers,headers:e.headers,"show-select":"","item-key":"email"},scopedSlots:e._u([{key:"item.contact",fn:function(t){var r=t.item;return[a("v-avatar",{attrs:{size:"30"}},[a("img",{attrs:{src:r.image}})]),e._v(" "+e._s(r.firstName)+" ")]}},{key:"item.second",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.email)+" ")]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{icon:"",color:"red",loading:e.deleteConLoad},on:{click:function(t){return e.deleteCon(r._id)}}},[a("v-icon",{attrs:{small:""}},[e._v(" mdi-delete ")])],1)]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-btn",{staticClass:"success",on:{click:e.create}},[e._v("Create")])],1)},Fe=[],$e={created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAllUsers();case 2:e.load();case 3:case"end":return t.stop()}}),t)})))()},computed:Object(u["a"])({},Object(d["c"])(["User","Valid","Contacts","Recommended"])),name:"Contacts",data:function(){return{headers:[{text:"Contact",align:"start",value:"contact"},{text:"Email",value:"second"},{text:"Action",value:"action"}],name:"",dialog:!1,dialog1:!1,user:null,users:[],searchedUsers:[],contactEmail:"",singleSelect:!1,selected:[],recSelection:[],recommended:[],chooser:-1,valid:!0,existValid:null,isLoading:!1,isLoading1:!1,addContactLoad:!1,deleteConLoad:!1,xs:!1,s:!1,md:!1,lg:!1,xl:!1,addContactMg:"",recommendedConMg:""}},methods:Object(u["a"])({load:function(){this.user=this.User,this.users=this.Contacts,this.searchedUsers=this.Contacts,this.deleteConLoad=!1},searchUsers:function(){var e=this;this.searchedUsers=this.users.filter((function(t){return t.name.startsWith(e.name)}))},create:function(){this.updateContacts(this.selected),this.$router.push("/Add")},onSave:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.addContactLoad=!0,e.valid=!0,e.existValid=!1,t.prev=3,t.next=6,e.addContact(e.contactEmail);case 6:a=e.Valid,""==e.Valid?(e.dialog1=!1,e.dialog=!1,e.load(),e.addContactLoad=!1):"Unregistered user"==a?(e.addContactLoad=!1,e.valid=!1):"already exist"==a&&(e.addContactLoad=!1,e.existValid=!0),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),console.log("vue add contact error");case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()},onSaveRec:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.dialog=!1,2!=e.chooser){t.next=6;break}e.selected=e.recSelection,e.create(),t.next=10;break;case 6:if(1!=e.chooser){t.next=10;break}return t.next=9,e.addContact(e.recSelection);case 9:e.load();case 10:case"end":return t.stop()}}),t)})))()},deleteCon:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.deleteConLoad=!0,a.next=3,t.deleteContact(e);case 3:t.load();case 4:case"end":return a.stop()}}),a)})))()},restartValid:function(){this.dialog1=!0,this.valid=!0,this.setValid("")},getRecommended:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=e.chooser){t.next=10;break}return e.isLoading1=!0,t.next=4,e.setRecommendedContacts();case 4:e.recommended=e.Recommended;while(!e.recommended);e.isLoading1=!1,e.dialog=!0,t.next=17;break;case 10:return e.isLoading=!0,t.next=13,e.setRecommendedGroups();case 13:e.recommended=e.Recommended;while(!e.recommended);e.isLoading=!1,e.dialog=!0;case 17:case"end":return t.stop()}}),t)})))()},btnSize:function(){var e=this;setTimeout((function(){switch(e.xs=!1,e.s=!1,e.md=!1,e.lg=!1,e.xl=!1,e.$vuetify.breakpoint.name){case"xs":return e.addContactMg="ml-1",e.xs=!0;case"sm":return e.s=!0;case"md":return e.addContactMg="mr-1",e.recommendedConMg="mr-1",e.s=!0;case"lg":return e.recommendedConMg="mr-1",e.addContactMg="mr-1",e.md=!0;case"xl":return e.addContactMg="mr-1",e.recommendedConMg="mr-1",e.md=!0;default:return e.s=!0}}),500)},setChooser:function(e){this.chooser=e,this.getRecommended()}},Object(d["b"])(["updateContacts","addContact","getAllUsers","deleteContact","setValid","setRecommendedGroups","setRecommendedContacts"]))},We=$e,Be=Object(g["a"])(We,Me,Fe,!1,null,null,null),qe=Be.exports;h()(Be,{VAvatar:ve["a"],VBtn:b["a"],VCard:ie["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VCol:q["a"],VContainer:J["a"],VDataTable:be["a"],VDialog:Te["a"],VIcon:w["a"],VRow:K["a"],VTextField:X["a"]}),O()(Be,{Resize:P["a"]});var Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"app"}},[a("v-main",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{staticClass:"blue lighten-4",attrs:{"align-center":"","justify-center":""}},[a("v-flex",{staticClass:"d-flex justify-space-between",attrs:{xs12:"",sm9:"",md7:""}},[a("v-card",{staticClass:"elevation-12",attrs:{color:"grey lighten-3",width:"100%"}},[a("v-toolbar",{staticClass:"success lighten-1 ",on:{click:function(t){e.dialog=!0}}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("a",e._g({},r),[a("v-toolbar-title",{staticClass:"black--text"},[a("div",{staticClass:"d-flex"},[a("div",[e._v(" Chat-group: "+e._s(e.group&&e.group.name)+" "),a("v-icon",[e._v("mdi-information-outline")])],1)])])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Group")])]),a("v-card-text",[a("v-text-field",{attrs:{label:"Group name",disabled:!(e.group.admin.toString()===e.user._id.toString())},model:{value:e.group.name,callback:function(t){e.$set(e.group,"name",t)},expression:"group.name"}})],1),a("v-card-text",[a("v-text-field",{attrs:{label:"Closing time",disabled:""},model:{value:e.group.closingTime,callback:function(t){e.$set(e.group,"closingTime",t)},expression:"group.closingTime"}})],1),a("v-file-input",{attrs:{disabled:!(e.group.admin.toString()===e.user._id.toString()),rules:e.groupImage,accept:"image/png, image/jpeg, image/bmp",placeholder:"Pick group picture","prepend-icon":"mdi-folder",label:"Change group picture"},on:{change:e.onChange},model:{value:e.gpImage,callback:function(t){e.gpImage=t},expression:"gpImage"}}),e.group.admin.toString()===e.user._id.toString()?a("span",[a("DatePicker",{on:{clicked:e.onChangeChild}})],1):e._e(),e.valid?e._e():a("v-card-text",{staticClass:"error--text"},[e._v("Only admin can change these")]),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.onDialogClose}},[e._v("Close")]),e.group.admin.toString()===e.user._id.toString()?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.onSave}},[e._v("Save")]):e._e()],1)],1)],1)],1),a("v-card-text",[a("v-list",{ref:"chat",staticClass:"overflow-y-auto",attrs:{id:"logs",height:"300","max-height":"300"}},[e._l(e.messages,(function(t,r){return[t.startsWith(" ")?a("v-subheader",{key:r}):e._e(),t&&(t.endsWith(".png")||t.endsWith(".jpeg")||t.endsWith(".bmp")||t.endsWith(".jpg"))?a("v-subheader",{key:r},[e._v(" "+e._s(t.split(" ")[0])+" "),a("a",{attrs:{href:t.substr(t.indexOf(" ")+1),target:"_blank"}},[a("v-img",{attrs:{src:t.substr(t.indexOf(" ")+1),"max-height":"100","max-width":"100"}})],1)]):e._e(),!t||t.startsWith(" ")||t.endsWith(".png")||t.endsWith(".jpeg")||t.endsWith(".bmp")||t.endsWith(".jpg")?e._e():a("v-subheader",{key:r},[e._v(" "+e._s(t)+" ")])]}))],2)],1),a("v-form",{staticClass:"d-flex",on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("v-textarea",{attrs:{"background-color":"white",color:"black","auto-grow":"",label:"Message","solo-inverted":"",rows:"1",spellcheck:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),a("form",[a("v-btn",{attrs:{loading:e.sendLoad,fab:"",small:"",color:"success"},on:{click:e.sendMessage}},[e._v(" Send")]),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"ml-1",attrs:{loading:e.imageLoad,color:"red lighten-3","x-small":"",depressed:"",fab:""}},r),[a("v-icon",[e._v("mdi-image")])],1)]}}]),model:{value:e.regDialog,callback:function(t){e.regDialog=t},expression:"regDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Send Picture")])]),a("v-card-text",[a("v-file-input",{attrs:{rules:e.groupImage,accept:"image/png, image/jpeg, image/bmp",placeholder:"Pick group picture","prepend-icon":"mdi-folder",label:"Avatar"},on:{change:e.onChange},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}})],1),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.onDialogClose}},[e._v("Close")]),a("v-spacer"),e.image?a("v-btn",{attrs:{color:"success darken-1",text:""},on:{click:e.onDialogSend}},[e._v("Send")]):e._e()],1)],1)],1)],1)],1)],1),a("v-card",{staticClass:"elevation-12",attrs:{color:"grey lighten-3",width:"30%"}},[a("v-toolbar",{staticClass:"success lighten-1 ",attrs:{dark:""}},[a("v-toolbar-title",{staticClass:"black--text"},[e._v("Participants")])],1),a("v-card-text",[a("v-list",{staticClass:"overflow-y-auto",attrs:{"max-height":"300"}},[e._l(e.participants,(function(t,r){return[t&&t!==e.user.email?a("v-subheader",{key:r,staticClass:"d-flex justify-space-between"},[e._v(" "+e._s(t)+" "),a("v-btn",{attrs:{"x-small":"",loading:e.deletePartLoad,text:"",color:"red"},on:{click:function(a){return e.deletePart(t)}}},[e.user._id.toString()==e.group.admin.toString()?a("v-icon",[e._v(" mdi-delete ")]):e._e()],1)],1):e._e()]}))],2)],1)],1)],1)],1)],1)],1)],1)},Qe=[],Ye={created:function(){var e=this;this.socket=ne()("http://localhost:3000"),this.connectGroup(),this.imageLoad=!1,setTimeout((function(){e.scrollToEnd()}),1e3)},components:{DatePicker:ee},computed:Object(u["a"])({},Object(d["c"])(["User","chatGroup","Logs","chatPart"])),data:function(){return{groupImage:[function(e){return!e||e.size<2e6||"Avatar size should be less than 2 MB!"}],imageLoad:!1,image:null,imageUrl:null,logs:[],msg:null,user:null,group:null,roomId:"",socket:null,messages:[],message:"",participants:[],dialog:!1,valid:!0,regDialog:!1,file:null,gpImage:null,sendLoad:!1,deletePartLoad:!1}},methods:Object(u["a"])(Object(u["a"])({connectGroup:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.user=e.User,e.group=e.chatGroup;while(!e.group);return e.roomId=e.group._id,t.next=6,e.createLogs(e.group._id);case 6:return e.messages=e.Logs,t.next=9,e.setChatPart(e.chatGroup.participants);case 9:e.participants=e.chatPart.map((function(e){return e.email})),e.socket.emit("join",{group:e.chatGroup,roomId:e.roomId,_id:e.user._id},(function(){})),e.socket.on("change",(function(t){if(t.group._id.toString()===e.group._id.toString())return e.group=t.group})),e.socket.on("message",(function(t){if(e.socket.emit("view",{group:e.chatGroup,roomId:e.roomId,_id:e.user._id},(function(){})),t.messages.length>1)for(var a=0;a<t.messages.length;a++){var r=" "!=t.messages[a].user?t.messages[a].user+": "+t.messages[a].message:t.messages[a].message;e.messages.push(r)}else{var n=" "!=t.messages.user?t.messages.user+": "+t.messages.message:t.messages.message;e.messages.push(n)}setTimeout((function(){e.scrollToEnd(),e.imageLoad=!1}),100)}));case 13:case"end":return t.stop()}}),t)})))()},scrollToEnd:function(){var e=this.$el.querySelector("#logs");e.scrollTop=e.scrollHeight},sendMessage:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.sendLoad=!0,e.preventDefault(),""!=t.message?t.socket.emit("sendMessage",{user:t.user,roomId:t.group._id,message:t.message},(function(){t.message="",t.sendLoad=!1})):t.sendLoad=!1;case 3:case"end":return a.stop()}}),a)})))()},onChangeChild:function(e){this.group.closingTime=ae()(e).add(14,"hours").format("LLLL")}},Object(d["b"])(["createLogs","setChatPart","deleteChatPart","setGroupNameAndClosing","uploadImage2"])),{},{submit:function(){this.log=this.messages.map((function(e){return e.user+": "+e.message}))},deletePart:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.deletePartLoad=!0,t.user._id!=t.group.admin){a.next=9;break}return r={email:e,groupId:t.group._id},a.next=5,t.deleteChatPart(r);case 5:t.participants=t.chatPart.map((function(e){return e.email})),t.deletePartLoad=!1,a.next=11;break;case 9:alert("Only admin can delete participants"),t.deletePartLoad=!0;case 11:case"end":return a.stop()}}),a)})))()},onSave:function(){var e=this;if(this.chatGroup.admin.toString()==this.user._id.toString()){this.dialog=!1,this.group.image=this.imageUrl?this.imageUrl:this.group.image;try{if(this.file){var t=new FileReader;t.readAsDataURL(this.file),t.onloadend=Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.uploadImage2(t.result);case 2:e.group.image=a.sent,e.setGroupNameAndClosing(e.group),e.socket.emit("onChange",{group:e.group});case 5:case"end":return a.stop()}}),a)}))),t.onerror=function(){console.error("AHHHHHHHH!!")}}else this.setGroupNameAndClosing(this.group),this.socket.emit("onChange",{group:this.group})}catch(a){console.log(a),this.createLoad=!1}}else this.dialog=!0,this.valid=!1},onDialogSend:function(){var e,t=this;if(this.imageLoad=!0,this.regDialog=!1,this.image)try{if(this.file){var a=new FileReader;a.readAsDataURL(this.file),a.onloadend=Object(r["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.uploadImage2(a.result);case 2:e=r.sent,t.socket.emit("sendMessage",{user:t.user,roomId:t.group._id,message:e},(function(){return t.message=""}));case 4:case"end":return r.stop()}}),r)}))),a.onerror=function(){console.error("AHHHHHHHH!!")}}}catch(n){console.log(n),this.imageLoad=!1}},onDialogClose:function(){this.regDialog=!1,this.dialog=!1,this.image=null,this.file=null,this.imageUrl=null,this.gpImage=null},onChange:function(e){this.imageUrl=e.name,this.file=e}}),beforeDestroy:function(){this.messages=[],this.socket.emit("disconnect"),this.socket.close()}},Ke=Ye,Xe=a("0e8f"),Ze=a("adda"),et=a("e0c7"),tt=a("a844"),at=Object(g["a"])(Ke,Je,Qe,!1,null,null,null),rt=at.exports;h()(at,{VApp:D["a"],VBtn:b["a"],VCard:ie["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:J["a"],VDialog:Te["a"],VFileInput:le["a"],VFlex:Xe["a"],VForm:ue["a"],VIcon:w["a"],VImg:Ze["a"],VLayout:Re["a"],VList:x["a"],VMain:N["a"],VSpacer:R["a"],VSubheader:et["a"],VTextField:X["a"],VTextarea:tt["a"],VToolbar:y["a"],VToolbarTitle:L["a"]});var nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticClass:"Profile"},[a("v-layout",{staticClass:"blue lighten-4",attrs:{"align-center":"","justify-center":""}},[a("v-card",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],staticClass:"mx-auto mt-5",attrs:{width:e.cardWidth,"fill-height":""}},[a("v-container",[a("form",[a("v-card-title",[a("h1",{staticClass:"display font-weight-light info--text"},[e._v("Profile")])]),a("v-card-text",[a("v-form",[a("v-input",{attrs:{disabled:""}},[a("v-avatar",[a("img",{attrs:{src:e.user.image}})]),a("pre",[e._v("Â ")]),e._v(" "+e._s(this.firstName))],1),a("v-text-field",{attrs:{label:"First Name *",required:""},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),a("v-text-field",{attrs:{label:"Last Name"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),a("v-text-field",{attrs:{label:"Email *",rules:e.emailRules,placeholder:"email@email.com",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-file-input",{attrs:{rules:e.groupImage,accept:"image/png, image/jpeg, image/bmp",placeholder:"Pick group picture","prepend-icon":"mdi-folder",label:"Change Avatar"},on:{change:e.onChange},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}}),a("v-text-field",{attrs:{required:"",type:e.showPassword?"text":"password",label:"New Password (not required)","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{attrs:{required:"",type:e.showPassword?"text":"password",label:"Confirm New Password","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),e.password!=e.confirmPassword?a("v-card-text",{staticClass:"red--text"},[e._v("Password don't match")]):e._e(),e.valid?e._e():a("v-card-text",{staticClass:"error--text"},[e._v("You must fill all * fields")]),e.valid2?a("v-card-text",{staticClass:"error--text"},[e._v("Email already exist")]):e._e(),e.valid3?a("v-card-text",{staticClass:"error--text"},[e._v("Password must have 4 or more characters ")]):e._e()],1)],1),a("v-card-actions",[a("v-row",{attrs:{dense:""}},[a("v-btn",{attrs:{"x-small":e.xs,small:e.s,medium:e.md,large:e.lg,"x-large":e.xl,color:"success",loading:e.saveLoad},on:{click:function(t){return e.passwordCheck(e.password)}}},[e._v("Save")]),a("v-spacer"),a("v-btn",{attrs:{"x-small":e.xs,small:e.s,medium:e.md,large:e.lg,"x-large":e.xl,color:"red white--text",to:"/Show"}},[e._v(" Cancel")])],1)],1)],1)])],1)],1)],1)},st=[],ot={name:"Profile",components:{},created:function(){this.setUser()},computed:Object(u["a"])({},Object(d["c"])(["Interests","RegDialog","User"])),data:function(){return{groupImage:[function(e){return!e||e.size<2e6||"Avatar size should be less than 2 MB!"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],showPassword:!1,firstName:"",lastName:"",email:"",password:"",confirmPassword:"",image:null,valid:!0,valid2:!1,valid3:!1,valid4:!1,errorMessage:null,imageUrl:null,dialog:!1,file:null,user:null,saveLoad:!1,cardWidth:.33*window.outerWidth,cardHeight:.25*window.outerHeight,xs:!1,s:!0,lg:!1,xl:!1,md:!0}},methods:Object(u["a"])(Object(u["a"])({setUser:function(){this.user=this.User;while(!this.user);this.firstName=this.user.firstName,this.lastName=this.user.lastName,this.email=this.user.email},setNewProfile:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.valid2=!1,""==e.firstName||""==e.email||e.password!=e.confirmPassword){t.next=24;break}if(a={firstName:e.firstName,lastName:e.lastName,email:e.email,password:""!=e.password?e.password:e.user.password,image:e.imageUrl?e.imageUrl:e.user.image,interests:e.Interests?e.Interests:e.user.interests},t.prev=3,!e.file){t.next=11;break}n=new FileReader,n.readAsDataURL(e.file),n.onloadend=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.uploadImage2(n.result);case 2:return a.image=t.sent,t.next=5,e.changeProfile(a);case 5:e.errorMessage=e.Valid,e.saveLoad=!1,e.errorMessage||e.$router.push("/Show");case 8:case"end":return t.stop()}}),t)}))),n.onerror=function(){console.error("AHHHHHHHH!!")},t.next=16;break;case 11:return t.next=13,e.changeProfile(a);case 13:e.errorMessage=e.Valid,e.saveLoad=!1,e.errorMessage||e.$router.push("/Show");case 16:t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](3),console.log(t.t0),e.createLoad=!1;case 22:t.next=25;break;case 24:e.valid=!1;case 25:case"end":return t.stop()}}),t,null,[[3,18]])})))()},passwordCheck:function(){this.valid3=!1,this.valid=!0,this.password===this.confirmPassword&&(""==this.password||this.password.length>=4?(this.saveLoad=!0,this.setNewProfile()):this.valid3=!0)},setDialog:function(){this.setRegDialog(!0)}},Object(d["b"])(["setRegDialog","uploadImage2","changeProfile"])),{},{restart:function(){this.password="",this.firstName="",this.lastName="",this.userName="",this.confirmPassword=""},onChange:function(e){this.imageUrl=e.name,this.file=e},onResize:function(){var e=this;setTimeout((function(){switch(e.cardWidth=.33*window.outerWidth,e.cardHeight=.25*window.outerHeight,e.xs=!1,e.s=!1,e.lg=!1,e.xl=!1,e.$vuetify.breakpoint.name){case"xs":return e.cardWidth=window.outerWidth,e.xs=!0;case"sm":return e.s=!0;case"md":return e.md=!0;case"lg":return e.md=!0;case"xl":return e.md=!0;default:return e.md=!0}}),500)}})},it=ot,ct=a("b675"),lt=Object(g["a"])(it,nt,st,!1,null,null,null),ut=lt.exports;h()(lt,{VApp:D["a"],VAvatar:ve["a"],VBtn:b["a"],VCard:ie["a"],VCardActions:ce["a"],VCardText:ce["b"],VCardTitle:ce["c"],VContainer:J["a"],VFileInput:le["a"],VForm:ue["a"],VInput:ct["a"],VLayout:Re["a"],VRow:K["a"],VSpacer:R["a"],VTextField:X["a"]}),O()(lt,{Resize:P["a"]}),s["a"].use(T["a"]);var dt=[{path:"/Add",name:"Add",component:me},{path:"/Show",name:"Show",component:xe},{path:"/",name:"Landing",component:Le},{path:"/Register",name:"Register",component:Ee},{path:"/Contacts",name:"Contacts",component:qe},{path:"/Chat",name:"Chat",component:rt},{path:"/Interests",name:"Interests",component:De},{path:"/Profile",name:"Profile",component:ut}],mt=new T["a"]({mode:"history",base:"/",routes:dt});mt.beforeEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,bt.dispatch("currentUser");case 2:"/"==t.path||"/Register"==t.path?bt.dispatch("check",!1):bt.dispatch("check",!0),"/"==t.path||"/Register"==t.path||"/Interests"==t.path||bt.state.user?r():r({path:"/"}),!bt.state.user||"/"!=t.path&&"/Register"!=t.path?r():r({path:"/Show"});case 5:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}());var pt=mt,gt=a("f309");s["a"].use(gt["a"]);var ft=new gt["a"]({}),ht=a("0e44");s["a"].use(d["a"]);var vt=a("bc3a"),bt=new d["a"].Store({plugins:[Object(ht["a"])({storage:window.sessionStorage})],state:{user:null,navbar:!1,groups:null,chatGroup:null,chatPart:null,participants:null,errorMessage:"",contacts:null,logs:null,interests:null,regDialog:!1,recommended:null},mutations:{setUser:function(e,t){e.user=t},setChatGroup:function(e,t){e.chatGroup=t},createGroup:function(e,t){e.user.groups=[].concat(Object(n["a"])(e.user.groups),[t.groups])},check:function(e,t){e.navbar=t},logout:function(e){e.user=null},setGroups:function(e,t){e.groups=t},setPart:function(e,t){e.participants=t},setContacts:function(e,t){e.contacts=t},setErrorMessage:function(e,t){e.errorMessage=t},setLogs:function(e,t){e.logs=t},chatPart:function(e,t){e.chatPart=t},setChat:function(e,t){e.chatPart=t.participants,e.chatGroup=t.group},setInterests:function(e,t){e.interests=t},setRegDialog:function(e,t){e.regDialog=t},setRecommended:function(e,t){e.recommended=t}},getters:{User:function(e){return e.user},navbar:function(e){return e.navbar},Groups:function(e){return e.groups},chatGroup:function(e){return e.chatGroup},Participants:function(e){return e.participants},Valid:function(e){return e.errorMessage},Contacts:function(e){return e.contacts},Logs:function(e){return e.logs},chatPart:function(e){return e.chatPart},Interests:function(e){return e.interests},RegDialog:function(e){return e.regDialog},Recommended:function(e){return e.recommended}},actions:{setUser:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,vt.post("/user/login",t);case 3:r=a.sent,e.commit("setUser",r.data),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log("setUser ---------------------",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},setUserBygoogle:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,vt.get("user/google");case 2:a=t.sent,e.commit("setUser",a);case 4:case"end":return t.stop()}}),t)})))()},createGroup:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,vt.post("/user/createGroup",{groupData:t});case 3:r=a.sent,e.commit("createGroup",r),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log("createGroup ",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},currentUser:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vt.get("/user/currentUser");case 3:a=t.sent,e.commit("setUser",a.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("currentUser",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},userLogout:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,vt.get("/user/logout");case 2:e.commit("logout"),window.location.reload();case 4:case"end":return t.stop()}}),t)})))()},check:function(e,t){e.commit("check",t)},getAllGroups:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,vt.get("/user/getAllGroups");case 2:a=t.sent,e.commit("setGroups",a.data);case 4:case"end":return t.stop()}}),t)})))()},setGroupsPosition:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.commit("setGroups",t);case 1:case"end":return a.stop()}}),a)})))()},getAllUsers:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,vt.get("/user/getAllUsers");case 2:a=t.sent,e.commit("setContacts",a.data);case 4:case"end":return t.stop()}}),t)})))()},leaveGroup:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,vt.post("/user/leaveGroup",{payload:t});case 2:r=a.sent,e.commit("setGroups",r.data.groups);case 4:case"end":return a.stop()}}),a)})))()},adminDeleteGroup:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,vt.post("/user/adminDeleteGroup",{groupId:t});case 3:r=a.sent,e.commit("setGroups",r.data),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log("admin delete failed");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},updateContacts:function(e,t){e.commit("setPart",t)},setChatPart:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,vt.post("/user/getChatPart",{partId:t});case 2:r=a.sent,e.commit("chatPart",r.data);case 4:case"end":return a.stop()}}),a)})))()},addContact:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,vt.post("/user/addContact",{payload:t});case 3:r=a.sent,e.commit("setContacts",r.data),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log(a.t0.response.data.message),e.commit("setErrorMessage",a.t0.response.data.message);case 11:case"end":return a.stop()}}),a,null,[[0,7]])})))()},deleteContact:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,vt.post("/user/deleteContact",{contactId:t});case 2:return r=a.sent,a.next=5,vt.get("/user/getAllUsers");case 5:n=a.sent,e.commit("setUser",r.data),e.commit("setContacts",n.data);case 8:case"end":return a.stop()}}),a)})))()},setValid:function(e,t){e.commit("setErrorMessage",t)},getGroup:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,vt.post("/user/getGroup",{groupId:t});case 2:r=a.sent,e.commit("setChatGroup",r.data);case 4:case"end":return a.stop()}}),a)})))()},createLogs:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,vt.post("/user/getMessages",{groupId:t});case 2:r=a.sent,e.commit("setLogs",r.data);case 4:case"end":return a.stop()}}),a)})))()},deleteChatPart:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,vt.post("/user/deleteChatPart",t);case 3:r=a.sent,e.commit("setChat",r.data),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},setInterests:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:null!=t.user?(vt.post("/user/setInterests",{data:t.vector}),e.commit("setInterests",t.vector)):e.commit("setInterests",t.vector);case 1:case"end":return a.stop()}}),a)})))()},setRegDialog:function(e,t){e.commit("setRegDialog",t)},setGroupNameAndClosing:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,vt.post("/user/setGroupNameAndClosing",{group:t});case 2:r=a.sent,e.commit("setChatGroup",r.data);case 4:case"end":return a.stop()}}),a)})))()},setRecommendedContacts:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,vt.get("/user/recommendedContacts");case 2:a=t.sent,e.commit("setRecommended",a.data);case 4:case"end":return t.stop()}}),t)})))()},setRecommendedGroups:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,vt.get("/user/recommendedGroups");case 2:a=t.sent,e.commit("setRecommended",a.data);case 4:case"end":return t.stop()}}),t)})))()},uploadImage2:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt({url:"/user/upload",method:"post",data:JSON.stringify({data:t}),headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.abrupt("return",a.data.secure_url);case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},changeProfile:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,vt.post("/user/changeProfile",t);case 3:r=a.sent,e.commit("setUser",r),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),e.commit("setErrorMessage",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},setLastSeen:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,vt.post("/user/setLastSeen");case 2:a=t.sent,e.commit("setUser",a.data);case 4:case"end":return t.stop()}}),t)})))()}}});s["a"].config.productionTip=!1,new s["a"]({router:pt,vuetify:ft,store:bt,render:function(e){return e(z)}}).$mount("#app")}});
//# sourceMappingURL=app.e7646dfe.js.map